project: dp_benchmark
method: bayes
metric:
  goal: minimize
  name: val_loss
parameters:
  model.L2_clip:
    distribution: uniform
    # priors from Resnet18 Sweep 1 (wandp project: dp_benchmark) 
    max: 3.0
    min: 0.1
  model.noise_multiplier:
    distribution: uniform
    # typical range according to opacus: https://opacus.ai/docs/faq: [2.0, 0.1] 
    # priors from Resnet18 Sweep 1 (wandp project: dp_benchmark) 
    max: 2.0
    min: 0.1
  # model.batch_size:
  #   distribution: int_uniform
  #   max: 64
  #   min: 8
  # NOTE: uncomment if this should be considered
  # trainer.max_epochs:
  #   distribution: int_uniform
  #   max: 100
  #   min: 10
  # model.target_delta:
  #   distribution: uniform
  #   max: 2e-05
  #   min: 5e-06
  # model.target_epsilon:
  #   distribution: uniform
  #   max: 100
  #   min: 10
program: trainer.py
command:
  - ${env}
  - ${interpreter}
  - ${program}
  - "--config"
  - "configs_sweep.yaml"
  - ${args}